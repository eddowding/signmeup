define(["backbone","marionette","app"],function(e,t,n){return e.Marionette.AppRouter.extend({routes:{"":"home","postcode/:postcode/":"postcode","thanks/":"thanks"},home:function(){require(["views/postcodeFormView"],function(e){view=new e,n.regionMain.show(view)})},postcode:function(e){require(["views/postcodeView","models/postcodeModel","models/signupModel"],function(t,r,i){var s=new r({postcode:e}),o=new i,u=new t({model:s,signup:o});s.fetch({success:function(){o.set({location:[s.get("wgs84_lat"),s.get("wgs84_lon")]}),n.regionMain.show(u),n.vent.trigger("infobox:show")}})})},thanks:function(){require(["views/thankyouView"],function(e){n.vent.trigger("infobox:show");var t=new e;n.regionMain.show(t)})}})});